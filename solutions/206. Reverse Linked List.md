# 2024-12-07
**這題是標準操作，學習最佳實踐就好，不要想太多。**

重點是這個「操作」本身，要有相對清晰的思路，才能夠實現。
> 我們先用迭代法，你解釋一下，為何一定需要三個指針才行，以及本題的指針操作有什麼重點與初學者陷阱

### 1. **為何需要三個指針？**
在反轉單向鏈結串列時，必須確保不會遺失任何節點的引用，否則鏈結串列將斷開且無法找回。三個指針各司其職，解決了這個問題：

1. **`prev`（前一個節點）**：
   - 用來儲存已反轉鏈結串列的最後一個節點（即反轉後的部分鏈結串列頭部）。
   - `prev` 初始化為 `None`，因為反轉後的第一個節點會指向 `None`。

2. **`curr`（當前節點）**：
   - 用來遍歷鏈結串列的每個節點，代表正在處理的節點。
   - 逐一反轉當前節點的 `next` 指向。

3. **`next`（下一個節點）**：
   - 用來暫存 `curr.next`，防止在修改 `curr.next` 時丟失鏈結串列的後續節點。
   - 如果沒有 `next`，當 `curr.next` 被修改後，就無法找到下一個節點，導致鏈結串列斷開。

---
### 2. **指針操作的重點與順序**

指針操作的正確順序至關重要，否則鏈結串列可能斷開。完整過程如下：

1. **暫存 `next`**：
   - 先儲存 `curr.next` 到 `next`，避免後續操作修改了鏈結串列。

   ```python
   next = curr.next
   ```

2. **反轉指向**：
   - 修改 `curr.next` 指向 `prev`，將鏈結串列逐步反轉。

   ```python
   curr.next = prev
   ```

3. **移動指針**：
   - 將 `prev` 移動到當前節點，`curr` 移動到下一個節點，準備處理下一個節點。

   ```python
   prev = curr
   curr = next
   ```

操作步驟順序：

1. 儲存 `curr.next`。
2. 修改 `curr.next`。
3. 移動三個指針。

---
### 4. **代碼示例與解釋**

完整的迭代法代碼如下：

```python
def reverseList(head):
    prev = None  # `prev` 初始化為 None
    curr = head  # `curr` 指向鏈結串列的頭部

    while curr:  # 遍歷整個鏈結串列
        next_temp = curr.next  # 步驟 1: 暫存下一個節點
        curr.next = prev       # 步驟 2: 反轉指向
        prev = curr            # 步驟 3: 移動 `prev` 指向當前節點
        curr = next_temp       # 步驟 3: 移動 `curr` 指向下一個節點

    return prev  # 返回反轉後的鏈結串列頭部
```

### 5. **總結**

- 三個指針 `prev`、`curr` 和 `next` 的協作確保了反轉過程中鏈結串列的完整性。
- **重點**：指針操作必須按照「儲存 `next` → 修改指向 → 移動指針」的順序進行。
- **陷阱**：未儲存 `curr.next` 或順序出錯會導致鏈結串列丟失節點。

練習時多畫圖，逐步模擬反轉操作，對於理解指針的變化非常有幫助。
